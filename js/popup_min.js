var link=document.querySelector(".search"),popup=document.querySelector(".popup"),form=document.querySelector(".form"),arrival_date=document.querySelector(".arrival_date_input"),departure_date=document.querySelector(".departure_date_input"),adults_input=document.querySelector(".adults_input"),children_input=document.querySelector(".children_input"),body=document.querySelector(".page_body"),isStorageSupport=!0,storage_adults="",storage_children="";try{storage_adults=localStorage.getItem("adults"),storage_children=localStorage.getItem("children"),adults_input.value=storage_adults,children_input.value=storage_children}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.contains("hidden")?(popup.classList.remove("hidden"),storage_adults&&(adults_input.value=storage_adults,children_input.value=storage_children)):popup.classList.add("hidden")}),body.addEventListener("click",function(e){popup.classList.contains("hidden")||e.target!=link&&popup.classList.add("hidden")}),popup.addEventListener("click",function(e){e.stopPropagation()}),form.addEventListener("submit",function(e){arrival_date.value&&departure_date.value&&adults_input.value&&children_input.value?(localStorage.setItem("adults",adults_input.value),localStorage.setItem("children",children_input.value)):(e.preventDefault(),console.log("Нужно ввести даты поездки и количество взрослых и детей"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(popup.classList.contains("hidden")||(e.preventDefault(),popup.classList.add("hidden")))});
